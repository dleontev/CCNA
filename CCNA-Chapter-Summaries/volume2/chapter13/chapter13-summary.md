# Chapter 13: Device Management Protocols

## System Message Logging (Syslog)

*   System message logging (syslog) is a way for network devices to send messages about events to a central server. 
*   These messages can be used to troubleshoot problems, monitor network activity, and audit security events. 
*   Syslog messages are generated by network devices in response to a variety of events, such as:
    *   A device booting up 
    *   An interface going up or down 
    *   A user logging in or out 
    *   An error occurring 

### Sending Messages in Real Time to Current Users

*   Cisco IOS devices can send syslog messages to the console or terminal of users who are currently logged in. 
*   This can be useful for troubleshooting problems in real time. 
*   To enable this feature, use the `logging console` and `logging monitor` commands. 
*   You can also use the `terminal monitor` command to enable the display of syslog messages on your terminal. 

### Storing Log Messages for Later Review

*   Cisco IOS devices can also store syslog messages in a buffer or send them to a syslog server for later review. 
*   This can be useful for troubleshooting problems that have occurred in the past or for monitoring network activity over time. 
*   To enable this feature, use the `logging buffered` and `logging host` commands. 

### Log Message Format

*   Syslog messages have a standard format that includes the following information:
    *   Timestamp 
    *   Facility 
    *   Severity level 
    *   Mnemonic 
    *   Description 

### Log Message Severity Levels

*   Syslog messages are assigned a severity level that indicates the importance of the message. 
*   The severity levels are numbered from 0 to 7, with 0 being the most severe and 7 being the least severe. 
*   The following table lists the syslog message severity levels:

|Severity Level|Description|
|:---|:---|
|0|Emergency: The system is unusable. |
|1|Alert: Immediate action is needed. |
|2|Critical: Critical conditions exist. |
|3|Error: Error conditions exist. |
|4|Warning: Warning conditions exist. |
|5|Notification: Normal but significant events have occurred. |
|6|Informational: Informational messages. |
|7|Debugging: Debugging messages. |

### Configuring and Verifying System Logging

*   To configure syslog, use the `logging` global configuration command with the following options:
    *   `console`: Send syslog messages to the console. 
    *   `monitor`: Send syslog messages to the terminal of logged-in users. 
    *   `buffered`: Store syslog messages in a buffer. 
    *   `host`: Send syslog messages to a syslog server. 
    *   `trap`: Set the severity level for syslog messages. 
*   To verify the syslog configuration, use the `show logging` privileged EXEC command. 

## Network Time Protocol (NTP)

*   Network Time Protocol (NTP) is a protocol used to synchronize the clocks of network devices. 
*   This is important for a variety of reasons, including:
    *   Ensuring that log messages have accurate timestamps 
    *   Preventing replay attacks 
    *   Troubleshooting network problems 

### Setting the Time and Time Zone

*   Before configuring NTP, you should set the time and time zone on the device. 
*   This can be done using the `clock set`, `clock timezone`, and `clock summer-time` commands. 

### Basic NTP Configuration

*   To configure NTP, use the `ntp server` global configuration command. 
*   This command specifies the IP address or hostname of an NTP server. 
*   You can also use the `ntp master` command to configure the device as an NTP server. 

### NTP Reference Clock and Stratum

*   NTP uses the concept of a reference clock to identify the source of time information. 
*   The reference clock can be an external device, such as an atomic clock, or the device's internal clock. 
*   NTP also uses the concept of stratum to indicate the distance of a device from the primary time source. 
*   The stratum level is a number from 1 to 15, with 1 being the most accurate. 

## Analyzing Topology Using CDP and LLDP

*   Cisco Discovery Protocol (CDP) and Link Layer Discovery Protocol (LLDP) are protocols that can be used to discover information about neighboring devices on a network. 
*   This information can be useful for troubleshooting problems, documenting the network, and planning network upgrades. 
*   CDP is a Cisco-proprietary protocol, while LLDP is an open standard protocol. 

### Examining Information Learned by CDP

*   CDP can discover the following information about neighboring devices:
    *   Device identifier 
    *   Address list 
    *   Port identifier 
    *   Capabilities list 
    *   Platform 
*   To display information about CDP neighbors, use the `show cdp neighbors` command. 

### Configuring and Verifying CDP

*   CDP is enabled by default on Cisco devices. 
*   You can disable CDP on a per-interface basis using the `no cdp enable` command. 
*   You can also disable CDP globally using the `no cdp run` command. 
*   To verify the CDP configuration, use the `show cdp` command. 

### Examining Information Learned by LLDP

*   LLDP can discover the following information about neighboring devices:
    *   Device identifier 
    *   Port identifier 
    *   Capabilities list 
    *   Platform 
*   To display information about LLDP neighbors, use the `show lldp neighbors` command. 

### Configuring and Verifying LLDP

*   LLDP is disabled by default on Cisco devices. 
*   You can enable LLDP on a per-interface basis using the `lldp enable` command.
*   You can also enable LLDP globally using the `lldp run` command. 
*   To verify the LLDP configuration, use the `show lldp` command. 

### LLDP-MED and TLVs

*   LLDP-MED (Media Endpoint Discovery) is an extension to LLDP that provides additional information about endpoint devices, such as IP phones and video cameras. 
*   LLDP-MED uses TLVs (type-length-values) to carry this information. 
*   LLDP-MED can be used to:
    *   Discover the voice and data VLAN IDs of IP phones 
    *   Manage the power levels of PoE devices